<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content = "height = device-height, width = 420, user-scalable = no" /> 
	<title>WebIOPi | Demo</title>
	<script type="text/javascript" src="/webiopi.js"></script>
	<link rel="stylesheet" type="text/css" href="demo.css" />
	<script type="text/javascript">
	webiopi().ready(function() {
        webiopi().setFunction(0, "in"); // set GPIO 0 as input
        var sw = webiopi().createGPIOButton(0, "SW"); // create a "SW" button for GPIO 0
        $("#content").append(sw); // append button to content div
                
        webiopi().setFunction(7, "out"); // set GPIO 7 as output
        var led = webiopi().createGPIOButton(7, "LED"); // create a "SW" button for GPIO 7
        $("#content").append(led); // append button to content div

        var seq = webiopi().createButton("seq", "PULSE");
        seq.click(function(event) {
            webiopi().outputSequence(7, 10, "010", function(gpio, data) {
            	alert("sequence on " + gpio + " finished with " + data);
            });
        });
        $("#content").append(seq); // append button to content div
        
        var func = webiopi().createButton("func", "FUNC");
        func.click(function(event) {
            webiopi().callFunction("myFunction", "data", function(f, args, data) {
            	alert("function " + f + " returned with " + data);
            });
        });
        $("#content").append(func); // append button to content div
	});
	</script>
</head>
<body>
<div id="content" align="center"></div>
</body>
</html>
